<!DOCTYPE html>
<html>
  <meta charset="UTF-8">
  <!-- Copyright (C) 2017 trainbird999

      This program is free software: you can redistribute it and/or modify
      it under the terms of the GNU General Public License as published by
      the Free Software Foundation, either version 3 of the License, or
      (at your option) any later version.
      
      This program is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      GNU General Public License for more details.
      
      You should have received a copy of the GNU General Public License
      along with this program.  If not, see <http://www.gnu.org/licenses/>.
    -->
  <head>
    <title>JS Tpcalc - Transport Fever Caluculation Support Utility</title>
    <style type="text/css">
      <!--
          H2 {color: #ffb608;}
          button {background: #b0b7c1; color: #2e3a50; border-style: none; border-radius: 7.5px;}
          button:hover {background: #ffc618;}
          input {background: #3e4a60; color: #d89ed2; font-size: 101%; text-align: center; border-style: none;}
          body.darktheme {color: #eeeeee;background: #2e3a50;}
        -->
    </style>
  </head>
  <body class="darktheme">
    <script type="text/javascript">
      <!--
          sec_per_oneday = 2
          sec_per_year = sec_per_oneday * 365

          function calcfrequency(capacities, demands) {
          return sec_per_year * capacities / demands;
          }

          function showfreq() {
          var demands    = parseFloat(document.calcfreq.demands.value);
          var capacities = parseFloat(document.calcfreq.capacities.value);
          document.calcfreq.result.value = calcfrequency(capacities, demands);
          }

          function calccapacity(demands, frequencies) {
          var demands     = parseFloat(document.calccap.demands.value);
          var frequencies = parseFloat(document.calccap.frequencies.value);
          return demands * frequencies / sec_per_year;
          }

          function showcap() {
          var demands     = parseFloat(document.calccap.demands.value);
          var frequencies = parseFloat(document.calccap.frequencies.value);
          document.calccap.result.value  = calccapacity(demands, frequencies);
          }

          function calcrate(capacities, frequencies) {
          return sec_per_year * capacities / frequencies;
          }

          function showrate() {
          var capacities  = parseFloat(document.calcrate.capacities.value);
          var frequencies = parseFloat(document.calcrate.frequencies.value);
          document.calcrate.result.value = calcrate(capacities, frequencies);
          }
          // -->
    </script>
    
    
    <H2>頻度演算</H2>
    <p>
      需要と一台あたりの貨物容量から理想的な運行頻度を算出します。<BR>
      算出された頻度に近づく程利益は大きくなり、上回る程に供給過剰になります。<BR>
      容量が一定である車両路線に有効です。<BR>
      <式> 730 × 容量 ÷需要(年) ＝ 運行頻度(秒)<BR>
    </p>
    <form name="calcfreq" action="#">
      730 × 
      <input type="text" name="capacities" placeholder="貨物容量を入力">
       ÷ 
      <input type="text" name="demands"    placeholder="需要(和)を入力">
       ＝ 
      <button type="button" onclick="showfreq()">算出</button>
      <input type="text" name="result"     placeholder="">
    </form>

    
    <H2>容量演算</H2>
    <p>
      需要と期待出来る運行頻度から理想的な貨物容量を算出します。<BR>
      予め、テスト走行で運行頻度を確認してから頻度間隔を入力する必要があり、<BR>
      実際の貨物容量で遅延が認められる場合は再計算が必要になります。<BR>
      過大容量は複編成に分割する事で解決出来ます。<BR>
      <式> 需要(年) × 運行頻度(秒) ÷ 730 ＝ 貨物容量<BR>
    </p>
    <form name="calccap" action="#">
      <input type="text" name="demands"     placeholder="需要(和)を入力">
       × 
      <input type="text" name="frequencies" placeholder="運行頻度(秒)を入力">
      ÷ 730
      ＝
      <button type="button" onclick="showcap()">算出</button>
      <input type="text" name="result"      placeholder="">
    </form>

    
    <H2>レート演算</H2>
    <p>
      貨物容量と運行頻度から一年あたり平均どの位の運送能力があるかを算出します。<BR>
      複数の路線でサプライチェーンを築く場合や現在の路線が実際にどれだけの運送能力があるかを確認するのに使えます。<BR>
      また、頻度演算や容量演算で算出された数値を入力すると求めに用いた需要(年)と近似になります。<BR>
      <式> 730 × 容量 ÷ 運行頻度(秒) ＝ レート(年)<BR>
    </p>
    <form name="calcrate" action="#">
      730 × 
      <input type="text" name="capacities"  placeholder="貨物容量を入力">
       ÷ 
      <input type="text" name="frequencies" placeholder="運行頻度(秒)を入力">
      ＝
      <button type="button" onclick="showrate()">算出</button>
      <input type="text" name="result"      placeholder="">
  </body>
</html>
